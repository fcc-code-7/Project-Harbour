@model FYP.Web.ViewModels.AppUserViewModel

@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recent Projects</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <link href="~/bootstrap-5.3.3-dist/css/bootstrap.css" rel="stylesheet" />
    <link href="~/bootstrap-5.3.3-dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/bootstrap-5.3.3-dist/css/bootstrap.rtl.css" rel="stylesheet" />
    <link href="~/bootstrap-5.3.3-dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
    <style>
        *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: "Montserrat", sans-serif;
}

.team-area {
    color: #fff;
}

.box {
    position: relative;
    margin: 20px;
    overflow: hidden;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    max-width: 400px;
    transition: transform 0.3s ease;
}

.box img {
    width: 100%;
    display: block;
    border-radius: 10px;
    transition: transform 0.5s ease;
}

.box:hover {
    transform: scale(1.05);
}

.box figcaption {
    position: absolute;
    width: 100%;
    bottom: 0;
    padding: 20px;
    text-align: center;
    background: #000080;
    transform: translateY(100%);
    transition: transform 0.5s ease;
}

.box:hover figcaption {
    transform: translateY(0);
}

.box h2 {
    font-size: 40px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: "Bebas Neue", sans-serif;
    margin: 0;
}

.box p {
    font-size: 14px;
}

.socials {
    margin-top: 10px;
}

.socials i {
    font-size: 18px;
    margin: 0 10px;
}

.imageSize {
    height: 180px;
    width: 180px;
    border-radius: 15px;
}

.animated-card {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.5s ease, transform 0.5s ease;
}

.animated-card.show {
    opacity: 1;
    transform: translateY(0);
}

.logoSetting {
    width: 100px !important;
    height: 40px;
}

/* Scrollbar Styling (from first block) */
::-webkit-scrollbar {
    width: 6px; /* Set the width of the scrollbar */
    height: 6px; /* Set the height of the scrollbar (for horizontal scrollbars) */
}

::-webkit-scrollbar-track {
    background: transparent; /* Background of the scrollbar track */
}

::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.2); /* Scrollbar color with transparency */
    border-radius: 10px; /* Rounded corners for the scrollbar */
}

::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.5); /* Darker on hover */
}

/* Custom Classes */
.background-image {
    background-image: url('../images/homePage_bg.jpg');
    background-size: cover;
    background-position: center;
    min-height: 90vh;
}

.cursorChange {
    cursor: pointer;
}

/* Search Field Styling (from first block) */
.search-field {
    opacity: 1;
    background-color: rgba(252, 252, 252, 0.893);
    color: #000;
    border: 1px solid #ccc;
}

.search-field::placeholder {
    color: rgba(0, 0, 0, 0.5);
}

.searchFieldClass {
    height: 70vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.search-container {
    width: 100%; /* Search field and icon container width */
    margin: 20px auto; /* Center the container on the screen */
}

.position-relative {
    position: relative;
}

.search-field {
    padding-right: 50px; /* Space for the icon on the right */
    border: 1px solid #ccc; /* Optional: Add a border */
    border-radius: 8px; /* Optional: Rounded corners */
    box-sizing: border-box; /* Ensure proper padding and width */
}

.search-icon {
    position: absolute;
    top: 50%;
    right: 10px; /* Adjust the icon inside the input field */
    transform: translateY(-50%);
    padding: 8px;
    font-size: 18px;
    cursor: pointer;
}

@@media screen and (max-width: 480px) {
    .mobileScreen {
        text-align: center;
    }
}

    </style>
</head>

<body >
    <!-- Navbar Section -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="~/Logo/fyp_logo-removebg-preview.png"
                     class="logoSetting" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto gap-3 mobileScreen">
                    <li class="nav-item">
                        <a class="cursorChange nav-link text-primary" aria-current="page" id="homeLink">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="cursorChange nav-link text-primary" aria-current="page" id="objectivesLink">Objectives</a>
                    </li>
                    <li class="nav-item">
                        <a class="cursorChange nav-link text-primary" aria-current="page" id="criteriaNPoliciesLink">Criteria & Policies</a>
                    </li>
                    <li class="nav-item">
                        <a class="cursorChange nav-link text-primary" aria-current="page" id="fypCommitteeLink">Fyp Committee</a>
                    </li>
                    <li class="nav-item">
                        <a class="cursorChange nav-link text-primary" aria-current="page" id="notificationsLink">Notifications</a>
                    </li>
                    <li class="nav-item">
                        <a class="cursorChange nav-link text-primary" aria-current="page" id="recentProjectsLink">Recent Projects</a>
                    </li>
                </ul>
                <!-- Buttons -->
                <div class="mobileScreen">
                    <button class="btn btn-primary text-white px-3 py-1 rounded" href="/account/login" id="login-btn">Login</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="background-image">
        <div class="container pt-3 pb-3">
            <div class="row">
                <div>

                    <div class="searchFieldClass gap-1 px-3">
                        <div class="d-flex justify-content-center">
                            <img src="~/Logo/fyp_logo-removebg-preview.png"
                                 class="d-flex justify-content-center imageSize" />
                        </div>
                        <div class="search-container d-flex justify-content-center align-items-center">
                            <div class="position-relative w-75">
                                <input type="search" id="searchInput" placeholder="Search Supervisor" class="search-field px-4 py-2 w-100 borderRadius fs-6" />
                                <i class="fa-solid fa-magnifying-glass search-icon text-white bg-primary rounded-circle"></i>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row mt-3" id="">
                    @if (Model.ListAppUser == null || Model.ListAppUser.Count() == 0)
                    {
                        <div class="col-md-4 animated-card">
                            <div class="team-area">
                                <figure class="box">
                                    <figcaption>
                                        <h5>No Data</h5>
                                        <p><span class="fw-bold">Domain:</span>No Data</p>
                                        <p><span class="fw-bold">Email:</span> No Data</p>
                                    </figcaption>

                                    <img alt="User Image"
                                         src="~/images/default-user.jpg"
                                         class="imageSize" />
                                </figure>
                            </div>
                        </div>
                    }
                    else
                    {
                        @foreach (var user in Model.ListAppUser)
                        {
                            <div class="col-md-4 animated-card">
                                <div class="team-area">
                                    <figure class="box">
                                        <span class="bg-yellow-100 text-yellow-800 text-sm font-medium me-2 px-2.5 py-0.1 rounded dark:bg-yellow-900 dark:text-yellow-300 font-bold mx-2">
                                            @(user.Name ?? "N/A")
                                        </span>
                                        <figcaption>
                                            <h5>@(user.Name ?? "N/A")</h5>
                                            <p>
                                                <span class="fw-bold">Domain:</span>
                                                @if (user.areaofintrest == "1")
                                                {
                                                    <span>
                                                        Industrial
                                                    </span>
                                                }
                                                else if (user.areaofintrest == "2")
                                                {
                                                    <span>
                                                        AI (Mining/Computer Vision...)
                                                    </span>
                                                }
                                                else if (user.areaofintrest == "3")
                                                {
                                                    <span>
                                                        Mobile App
                                                    </span>
                                                }
                                                else if (user.areaofintrest == "4")
                                                {
                                                    <span>
                                                        Wireless Communication
                                                    </span>
                                                }
                                                else if (user.areaofintrest == "5")
                                                {
                                                    <span>
                                                        Network & Security
                                                    </span>
                                                }
                                                else if (user.areaofintrest == "6")
                                                {
                                                    <span>
                                                        Web App
                                                    </span>
                                                }
                                                else if (user.areaofintrest == "7")
                                                {
                                                    <span>
                                                        Software Application/ERP
                                                    </span>
                                                }
                                                else if (user.areaofintrest == "8")
                                                {
                                                    <span>
                                                        IoT (H/W + S/W Application)
                                                    </span>
                                                }
                                                else
                                                {
                                                    <span>
                                                        N/A
                                                    </span>
                                                }
                                            </p>
                                            <p><span class="fw-bold">Email:</span> @(user.email ?? "N/A")</p>
                                        </figcaption>

                                        <img alt="User Image"
                                             src="@(string.IsNullOrEmpty(user.Docs) ? Url.Content("~/images/default-user.jpg") : user.Docs)"
                                             class="imageSize" />
                                    </figure>
                                </div>
                            </div>


                        }
                    }
                    <div id="paginationControls" class="text-center">
                        <button class="btn btn-primary" id="prevBtn">Prev</button>
                        <span id="pageNumber" class="bg-yellow-100 text-yellow-800 text-sm font-medium me-2 px-2.5 py-0.1 rounded dark:bg-yellow-900 dark:text-yellow-300 font-bold mx-2">Page 1 of 5</span>
                        <button class="btn btn-primary" id="nextBtn">Next</button>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/app-assets/js/core/libraries/jquery.min.js"></script>
    <script src="~/bootstrap-5.3.3-dist/js/bootstrap.bundle.js"></script>
    <script src="~/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>

    <script src="~/bootstrap-5.3.3-dist/js/bootstrap.js"></script>
    <script src="~/bootstrap-5.3.3-dist/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const itemsPerPage = 6; // Number of items per page
            let currentPage = 1;
            let users = Array.from(document.querySelectorAll(".animated-card")); // All user cards
            const totalItems = users.length;
            const totalPages = Math.ceil(totalItems / itemsPerPage);

            function showPage(page) {
                // Filter users by search input
                const searchValue = document.getElementById('searchInput').value.toLowerCase();
                const filteredUsers = users.filter(user => user.querySelector('h5').textContent.toLowerCase().includes(searchValue));

                // Paginate the filtered users
                const start = (page - 1) * itemsPerPage;
                const end = start + itemsPerPage;

                // Hide all users
                users.forEach(user => user.style.display = "none");

                // Show only the filtered and paginated users
                filteredUsers.slice(start, end).forEach(user => user.style.display = "block");

                // Update the page number display
                document.getElementById("pageNumber").innerText = `Page ${page} of ${Math.ceil(filteredUsers.length / itemsPerPage)}`;
            }

            function changePage(direction) {
                const newPage = currentPage + direction;

                // Ensure the new page is within bounds
                if (newPage > 0 && newPage <= totalPages) {
                    currentPage = newPage;
                    showPage(currentPage);
                }
            }

            // Event listeners for pagination buttons
            document.getElementById("prevBtn").addEventListener("click", function () {
                changePage(-1);
            });
            document.getElementById("nextBtn").addEventListener("click", function () {
                changePage(1);
            });

            // Search event listener
            document.getElementById('searchInput').addEventListener('input', function () {
                currentPage = 1; // Reset to first page on search input change
                showPage(currentPage);
            });

            // Initialize the first page
            showPage(currentPage);
        });

        document.addEventListener("DOMContentLoaded", () => {
            const cards = document.querySelectorAll(".animated-card");
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add("show");
                }, index * 800); // Delay of 800ms between each card
            });
        });

    
        document.addEventListener("DOMContentLoaded", () => {
            const cards = document.querySelectorAll(".animated-card");
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add("show");
                }, index * 800); // Delay of 800ms between each card
            });
        });
        $(document).ready(function () {

            // Navigate on button click
            $('#login-btn').on('click', function () {
                window.location.href = '/account/login';
            });



            const pageLinks = {
                homeLink: '/', // Index route (no need for "/home")
                objectivesLink: '/objectives',
                criteriaNPoliciesLink: '/criteriaNPolicies',
                fypCommitteeLink: '/fypCommittee',
                notificationsLink: '/notifications',
                recentProjectsLink: '/recentProjects'
            };


            // Add click event to each nav item
            $('.nav-link').on('click', function () {
                const linkId = $(this).attr('id'); // Get the ID of the clicked link
                const targetUrl = pageLinks[linkId]; // Find the corresponding URL
                if (targetUrl) {
                    window.location.href = targetUrl; // Redirect to the target page
                }
            });
        });

    </script>

</body>
</html>